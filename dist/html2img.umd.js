!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("@babel/runtime-corejs3/regenerator"),require("@babel/runtime-corejs3/core-js/promise"),require("@babel/runtime-corejs3/core-js/instance/for-each"),require("@babel/runtime-corejs3/core-js/array/from"),require("html2canvas")):"function"==typeof define&&define.amd?define(["@babel/runtime-corejs3/regenerator","@babel/runtime-corejs3/core-js/promise","@babel/runtime-corejs3/core-js/instance/for-each","@babel/runtime-corejs3/core-js/array/from","html2canvas"],r):(e=e||self).html2img=r(e._regeneratorRuntime,e._Promise,e._forEachInstanceProperty,e._Array$from,e.html2canvas)}(this,(function(e,r,t,n,a){"use strict";function o(a){var o,c,s;return e.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,o=a.querySelectorAll("img"),c=n(o,(function(e){return t=e.src,new r((function(e,r){if(t.match(/base64/))return e(t);var n=document.createElement("canvas"),a=n.getContext("2d"),o=new Image;o.crossOrigin="Anonymous",o.src=t,o.onload=function(){n.width=o.width,n.height=o.height,a&&a.drawImage(o,0,0),e(n.toDataURL("image/png"))},o.onerror=r}));var t})),u.next=5,e.awrap(r.all(c));case 5:s=u.sent,t(s).call(s,(function(e,r){return o[r].src=e})),u.next=13;break;case 9:return u.prev=9,u.t0=u.catch(0),console.error(u.t0,"图片错误"),u.abrupt("return",u.t0);case 13:return u.prev=13,u.abrupt("return",a);case 16:case"end":return u.stop()}}),null,null,[[0,9,13,16]])}function c(t,n){var o,c,s,u,i;return e.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,o=document.createElement("canvas"),c=t.offsetWidth,s=t.offsetHeight,u=n.scale,o.width=c*u,o.height=s*u,o.style.width="".concat(c,"px"),o.style.height="".concat(s,"px"),l.next=11,e.awrap(a(t,{width:c,height:s,scale:u,useCORS:!0,canvas:o,scrollX:0,scrollY:0,imageTimeout:0}));case 11:return i=l.sent,l.abrupt("return",i.toDataURL("image/jpeg",1));case 15:return l.prev=15,l.t0=l.catch(0),l.abrupt("return",r.resolve(l.t0));case 18:case"end":return l.stop()}}),null,null,[[0,15]])}function s(e){e.style.position="fixed",e.style.left="-100vw",e.style.top="0"}function u(e){e.style.left="0"}e=e&&e.hasOwnProperty("default")?e.default:e,r=r&&r.hasOwnProperty("default")?r.default:r,t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n,a=a&&a.hasOwnProperty("default")?a.default:a;return function(t,n){var a,i,l,f,d,p,m,h,b,v;return e.async((function(y){for(;;)switch(y.prev=y.next){case 0:if(i=(a=n||{}).debug,l=void 0!==i&&i,f=a.scale,d=void 0===f?2:f,p=a.base64,m=void 0!==p&&p,s(h=t.cloneNode(!0)),!m){y.next=9;break}return y.next=6,e.awrap(o(h));case 6:y.t0=y.sent,y.next=10;break;case 9:y.t0=h;case 10:if(b=y.t0,document.body.appendChild(b),!l){y.next=15;break}return u(h),y.abrupt("return",r.resolve(""));case 15:return y.next=17,e.awrap(c(b,{scale:d}));case 17:return v=y.sent,document.body.removeChild(b),y.abrupt("return",v);case 20:case"end":return y.stop()}}))}}));
