!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@babel/runtime-corejs3/regenerator"),require("@babel/runtime-corejs3/core-js/promise"),require("@babel/runtime-corejs3/core-js/instance/for-each"),require("@babel/runtime-corejs3/core-js/array/from"),require("html2canvas")):"function"==typeof define&&define.amd?define(["exports","@babel/runtime-corejs3/regenerator","@babel/runtime-corejs3/core-js/promise","@babel/runtime-corejs3/core-js/instance/for-each","@babel/runtime-corejs3/core-js/array/from","html2canvas"],t):t((e=e||self).html2img={},e._regeneratorRuntime,e._Promise,e._forEachInstanceProperty,e._Array$from,e.html2canvas)}(this,(function(e,t,r,n,a,o){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,r=r&&r.hasOwnProperty("default")?r.default:r,n=n&&n.hasOwnProperty("default")?n.default:n,a=a&&a.hasOwnProperty("default")?a.default:a,o=o&&o.hasOwnProperty("default")?o.default:o;var c=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\*\+,;=.]+$/;function s(e){var o,s,u;return t.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,o=e.querySelectorAll("img"),s=a(o,(function(e){return t=e.src,new r((function(e,r){if(!t.match(c))return e(t);var n=document.createElement("canvas"),a=n.getContext("2d"),o=new Image;o.crossOrigin="Anonymous",o.src=t,o.onload=function(){n.width=o.width,n.height=o.height,a&&a.drawImage(o,0,0),e(n.toDataURL("image/png"))},o.onerror=r}));var t})),i.next=5,t.awrap(r.all(s));case 5:u=i.sent,n(u).call(u,(function(e,t){return o[t].src=e})),i.next=13;break;case 9:return i.prev=9,i.t0=i.catch(0),console.error(i.t0,"图片错误"),i.abrupt("return",i.t0);case 13:return i.prev=13,i.abrupt("return",e);case 16:case"end":return i.stop()}}),null,null,[[0,9,13,16]])}function u(e,n){var a,c,s,u,i;return t.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,a=document.createElement("canvas"),c=e.offsetWidth,s=e.offsetHeight,u=n.scale,a.width=c*u,a.height=s*u,a.style.width="".concat(c,"px"),a.style.height="".concat(s,"px"),l.next=11,t.awrap(o(e,{width:c,height:s,scale:u,useCORS:!0,canvas:a,scrollX:0,scrollY:0,imageTimeout:0}));case 11:return i=l.sent,l.abrupt("return",i.toDataURL("image/jpeg",1));case 15:return l.prev=15,l.t0=l.catch(0),l.abrupt("return",r.resolve(l.t0));case 18:case"end":return l.stop()}}),null,null,[[0,15]])}function i(e){e.style.position="fixed",e.style.left="-100vw",e.style.top="0"}function l(e){e.style.left="0"}e.default=function(e,n){var a,o,c,f,d,p,m,h,b,v;return t.async((function(y){for(;;)switch(y.prev=y.next){case 0:if(o=(a=n||{}).debug,c=void 0!==o&&o,f=a.scale,d=void 0===f?2:f,p=a.base64,m=void 0!==p&&p,i(h=e.cloneNode(!0)),!m){y.next=9;break}return y.next=6,t.awrap(s(h));case 6:y.t0=y.sent,y.next=10;break;case 9:y.t0=h;case 10:if(b=y.t0,document.body.appendChild(b),!c){y.next=15;break}return l(h),y.abrupt("return",r.resolve(""));case 15:return y.next=17,t.awrap(u(b,{scale:d}));case 17:return v=y.sent,document.body.removeChild(b),y.abrupt("return",v);case 20:case"end":return y.stop()}}))},e.vueComponentToHtml=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new(t.extend(e))({el:document.createElement("div"),propsData:r}).$mount().$el},Object.defineProperty(e,"__esModule",{value:!0})}));
